global:
  sleep_after_check: 10s
  pinger_ident: TEST-PINGER-UKRAINE

api:
  host_list_addr: http://127.0.0.1:8081/pinger/get
  report_addr: http://127.0.0.1:8081/pinger/update
  request_timeout: 30s


#Конфигурация библиотеки пингера
pinger:
  #Приблизительное количество хостов(устанавливает размер хеша). Нужно брать с небольшим запасом, +1000 например
  approximate_host_quantity: 30000
  #Настройки ICMP проверки
  icmp_check:
    #Количество проходов
    number_of_inspection: 5
    #Количество успешных проходов(хост ответил на пинг нужным количеством пакетов за проход) и считается работающим
    must_inspections_success_for_up: 4
    #Количество неуспешных проходов(хост НЕ ответил на пинг нужным количеством пакетов за проход) и считается упавшим
    must_inspections_failed_for_down: 4
    #Количество воркеров, читающих ответы
    count_listeners: 4
    #Количество воркеров, генерирующие пакеты
    count_writers: 2
    #Работать с IPv6 хостами (будет открыт еще один сокет)
    enable_ipv6: yes
    #Ожидание задержавшихся ответов после отправки всех пакетов
    response_timeout: 3s
    #Задержка между проходами
    inspection_timeout: 100ms
    #Количество пакетов на хост при проходе инспекции. Принцип работы аналогичен fping
    #Рекомендуется не изменять данный  параметр, если нет проблем с блокировками за флуд
    count_packages_to_host: 15
    #Рекомендуется не изменять данный  параметр, если нет проблем с блокировками за флуд
    #Необходимое количетво полученных пакетов для учета хоста в обходе как успешного
    must_packages_for_up: 10
    #Рекомендуется не изменять данный  параметр, если нет проблем с блокировками за флуд
    #Время задержки отправки пакета на хост
    time_duration_to_send: 100ns
  tcp_check:
    #Включена
    enabled: yes
    #Список портов на проверку. Задержка проверки высчитывается по count(ports)*connect_timeout, соответственно 4*3s = 12s ожидания
    ports:
      - 22
      - 21
      - 443
      - 80
    #Количество обработчиков TCP подключений
    count_workers: 150
    #Время ожидания на установку подключения
    connect_timeout: 3s




